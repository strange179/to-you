<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Surprise</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800&display=swap');

    body {
      font-family: 'Tajawal', sans-serif;
    }

    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-20px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    @keyframes rise {
      0% {
        bottom: -10vh;
        opacity: 1;
      }

      100% {
        bottom: 120vh;
        opacity: 0;
      }
    }

    @keyframes fall {
      0% {
        top: -10%;
        transform: rotate(0deg);
      }

      100% {
        top: 110%;
        transform: rotate(720deg);
      }
    }

    @keyframes pulse-glow {

      0%,
      100% {
        box-shadow: 0 0 10px rgba(236, 72, 153, 0.2);
        transform: scale(1);
      }

      50% {
        box-shadow: 0 0 25px rgba(236, 72, 153, 0.6);
        transform: scale(1.02);
      }
    }

    @keyframes flicker {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.1) rotate(-2deg);
        opacity: 0.8;
      }

      100% {
        transform: scale(0.95) rotate(2deg);
        opacity: 1;
      }
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    @keyframes wave {

      0%,
      100% {
        height: 10%;
      }

      50% {
        height: 100%;
      }
    }

    @keyframes popUpFade {
      0% {
        opacity: 1;
        transform: translateY(0) scale(0.5);
      }

      100% {
        opacity: 0;
        transform: translateY(-50px) scale(1.2);
      }
    }

    @keyframes blink {
      50% {
        border-color: transparent;
      }
    }

    /* Fireworks Animations */
    @keyframes explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes lightboxEnter {
      0% {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }

      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.35);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.6);
      box-shadow: 0 10px 40px 0 rgba(31, 38, 135, 0.15);
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .animate-flame {
      animation: flicker 0.6s infinite alternate;
    }

    .animate-shake {
      animation: shake 0.3s ease-in-out;
    }

    .animate-wave {
      animation: wave 1s ease-in-out infinite;
    }

    .animate-wiggle {
      animation: float 3s ease-in-out infinite;
    }

    .typing-cursor::after {
      content: '|';
      animation: blink 1s step-end infinite;
      color: #ec4899;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-pink-100 via-rose-200 to-pink-300 min-h-screen overflow-hidden">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, useMemo } = React;

    // --- Icons (Inline SVGs) ---
    const Icon = ({ path, className, size = 24, fill = "none" }) => (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill={fill}
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
        className={className}
      >
        {path}
      </svg>
    );

    const Heart = (props) => <Icon {...props} path={<path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />} />;
    const Gift = (props) => <Icon {...props} path={<><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></>} />;
    const Music = (props) => <Icon {...props} path={<><path d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" /></>} />;
    const Stars = (props) => <Icon {...props} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z" /><path d="M5 3v4" /><path d="M9 5H3" /></>} />;
    const Sparkles = (props) => <Icon {...props} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1-1.275-1.275L12 3Z" /></>} />;
    const Lock = (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></>} />;
    const Unlock = (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 9.9-1" /></>} />;
    const Key = (props) => <Icon {...props} path={<><circle cx="7.5" cy="15.5" r="5.5" /><path d="m21 2-9.6 9.6" /><path d="m15.5 7.5 3 3L22 7l-3-3" /></>} />;
    const Send = (props) => <Icon {...props} path={<><path d="m22 2-7 20-4-9-9-4Z" /><path d="M22 2 11 13" /></>} />;
    const X = (props) => <Icon {...props} path={<><path d="M18 6 6 18" /><path d="m6 6 12 12" /></>} />;
    const Play = (props) => <Icon {...props} path={<polygon points="5 3 19 12 5 21 5 3" />} />;
    const Pause = (props) => <Icon {...props} path={<><rect x="6" y="4" width="4" height="16" /><rect x="14" y="4" width="4" height="16" /></>} />;
    const Mic = (props) => <Icon {...props} path={<><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" /><path d="M19 10v2a7 7 0 0 1-14 0v-2" /><line x1="12" y1="19" x2="12" y2="23" /><line x1="8" y1="23" x2="16" y2="23" /></>} />;
    const Calendar = (props) => <Icon {...props} path={<><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></>} />;
    const Camera = (props) => <Icon {...props} path={<><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></>} />;
    const Clock = (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>} />;
    const ZoomIn = (props) => <Icon {...props} path={<><circle cx="11" cy="11" r="8" /><line x1="21" y1="21" x2="16.65" y2="16.65" /><line x1="11" y1="8" x2="11" y2="14" /><line x1="8" y1="11" x2="14" y2="11" /></>} />;
    const Volume2 = (props) => <Icon {...props} path={<><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" /><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" /></>} />;
    const VolumeX = (props) => <Icon {...props} path={<><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" /><line x1="23" y1="9" x2="17" y2="15" /><line x1="17" y1="9" x2="23" y2="15" /></>} />;

    const BirthdayApp = () => {
      const [isOpened, setIsOpened] = useState(false);
      const [balloons, setBalloons] = useState([]);
      const [confetti, setConfetti] = useState([]);

      // Game States
      const [showGame, setShowGame] = useState(false);
      const [currentLevel, setCurrentLevel] = useState(0);
      const [answer, setAnswer] = useState('');
      const [error, setError] = useState(false);
      const [gameCompleted, setGameCompleted] = useState(false);

      // --- SECRET PAGE STATE ---
      const [showSecretPage, setShowSecretPage] = useState(false);
      // Change this word to whatever you want the secret code to be
      const secretWord = "ÙˆØ²Ù‡ ÙˆÙ‚Ø·Ø©";

      // Audio Player State
      const [isPlaying, setIsPlaying] = useState(false);
      const audioRef = useRef(null);

      // --- BACKGROUND MUSIC STATE ---
      const [isBgMusicMuted, setIsBgMusicMuted] = useState(false);
      const bgMusicRef = useRef(null);

      // --- NEW STATES ---
      const [selectedImage, setSelectedImage] = useState(null);
      const [clickEffects, setClickEffects] = useState([]);
      const [typedTitle, setTypedTitle] = useState("");
      const [typedMessage, setTypedMessage] = useState("");

      // Countdown States
      const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });
      const [showFireworks, setShowFireworks] = useState(false);

      // --- CONFIGURATION ---
      const recordUrl = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3";
      const recordUrl2 = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3";
      const bgMusicUrl = "Sur/1.mp3";
      const targetDate = "2026-01-03T00:00:00";

      // *** Testing Mode: Set this to true to see the effect immediately, set to false for real date ***
      const isTestingMode = false;

      const fullTitle = "ÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ§Ù†Øª Ø·ÙŠØ¨Ù‡ ÙŠØ§ Meyoo";
      const fullMessage = "ÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ§Ù†Øª Ø¯ÙŠÙ…Ø§ Ø§Ù„Ø§Ø¬Ù…Ù„ , ÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ§Ù†Øª Ø¯ÙŠÙ…Ø§ Ù„ÙŠØ§ ÙˆØ§Ù‚Ø±Ø¨ Ù„Ø¨Ø¹Ø¶ ";

      const memories = [
        "Sur/1.jpg",
        "Sur/2.jpg",
        "Sur/3.jpg",
        "Sur/4.jpg"
      ];

      const riddles = [
        {
          id: 1,
          question: "Ø¨ØµÙŠ Ø¨Ù‚Ø§ Ø§Ù„Ù„Ø¹Ø¨Ù‡ Ø§Ù„ÙŠ Ø¨Ø¯Ø§Ù†Ù‡Ø§ Ù…Ù† Ø¹Ø´Ø± Ø§ÙŠØ§Ù… Ù‡ØªØ­ØªØ¬ÙŠÙ‡Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† ØªÙˆØµÙ„ÙŠ Ù„Ù„Ø±Ø³Ø§Ù„Ù‡ Ø§Ù„ÙŠ Ù‡ØªÙØªØ­ ÙÙŠ Ø§Ù„Ø§Ø®Ø± Ø¨Ø¹Ø¯ Ù…Ø§ ØªØ®Ù„ØµÙŠ Ø§Ù„Ø§Ø³Ø§Ù„Ø© Ø¯ÙŠ : Ù‚ÙˆÙ„ÙŠ ÙÙ„ Ø¹Ø´Ø§Ù† ØªÙƒÙ…Ù„ÙŠ ",
          answers: ["ÙÙ„", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù…Ø´ Ø¹Ø§Ø±ÙÙ‡ ØªÙƒØªØ¨ÙŠ ÙÙ„ ØŸØŸØŸ Ø¯Ù‡ Ø§Ø­Ù†Ø§ Ù„Ø³Ù‡ Ø¨Ù†Ø³Ù…ÙŠ "
        },
        {
          id: 2,
          question: "Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙŠ Ù‚ÙˆÙ„ØªÙ„Ùƒ Ø§Ø­ÙØ¸ÙŠÙ‡ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙˆØ±ÙŠ Ø§ÙˆÙ„ ÙˆØ§Ø­Ø¯ Ø®Ø§Ù„Øµ Ø§Ù„Ø·ÙˆÙŠÙ„ Ø¯Ù‡ ",
          answers: ["10051917", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "ÙˆØ§Ø§Ø§Ø§Ùˆ Ø§Ù„Ø¬Ùˆ Ù…Ø·Ø± Ø¨Ø³ Ø§Ù†ØªÙŠ Ø­Ù„ÙˆÙ‡ Ø§Ù„ÙŠ ÙÙŠÙ‡ Ø§Ù†Øª Ø§Ø¬Ù…Ù„ Ù…Ù† Ø§Ù„Ù‚Ù…Ø± Ù†ÙØ³Ù‡ Ø¹Ø´Ø§Ù† Ù…ÙÙŠØ´ Ø²ÙŠÙƒ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø¯ÙŠ Ù‡ÙŠ Ø¯ÙŠ Ø­Ù‚ÙŠÙ‚Ù‡ ÙØ¹Ù„Ø§ Ø¨Ø³ Ø¯Ù‡ ÙƒÙ„Ù‡ Ø­Ø´Ùˆ Ø¹Ø´Ø§Ù† Ø§Ù‚ÙˆÙ„Ùƒ Ø§Ù† ÙƒÙ„Ù…Ù‡ Ø§Ù„Ø³Ø± Ù‡ÙŠ Ù‡ØªÙ„Ø§Ù‚ÙŠÙ‡Ø§ ÙÙŠ Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø¨ØªØ§Ø¹Ù†Ø§"
        },
        {
          id: 3,
          question: "Ø§ÙˆÙ„Ø§ ÙƒØ¯Ù‡ Ø§Ø­Ù†Ø§ Ù‡Ù†Ø§ÙƒÙ„ Ø·Ø±Ø¨ ÙˆÙ‡ØªØ§ÙƒÙ„ÙŠ Ù…Ø¹ÙŠØ§ Ø¹Ø§Ø¯ÙŠ",
          answers: ["Ù…Ø§Ø´ÙŠ", "Ø­Ø§Ø¶Ø±", "Ø¹ÙŠÙˆÙ†ÙŠ", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù…ÙŠÙ†ÙØ´ ØªÙ‚ÙˆÙ„ÙŠ ØºÙŠØ± ÙŠØ§ Ø­Ø§Ø¶Ø± ÙŠØ§ Ù…Ø§Ø´ÙŠ ÙŠØ§ Ø¹ÙŠÙˆÙ†ÙŠ Ù…ØªÙÙƒØ±ÙŠØ´ ğŸ˜‚"
        },
        {
          id: 4,
          question: "Ø§Ù†Ø§ Ù‡Ø±Ø®Ù… Ø¹Ù„ÙŠÙƒÙŠ Ø¯Ù„ÙˆÙ‚ØªÙŠ : Ù‚ÙˆÙ„ÙŠ ÙÙ„ Ø¹Ù„ÙŠ Ø§ÙŠ Ø³Ø¤Ø§Ù„ Ø¬ÙŠ Ù…Ù„ÙˆØ´ Ø§Ø¬Ø§Ø¨Ù‡ Ù…Ø¹ÙŠÙ†Ù‡ ",
          answers: ["ÙÙ„", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù…Ø§ ØªÙƒØªØ¨ÙŠ ÙÙ„ ÙŠØ§ Ø¨Ù†ÙˆØªÙ‡"
        },
        {
          id: 5,
          question: "Ø§ÙŠÙ‡ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙŠ ÙƒÙ†Øª Ø®Ù„ÙŠØªÙƒ ØªØ­Ø³Ø¨ÙŠÙ‡ ",
          answers: ["632", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ø±ÙƒØ²ÙŠ Ø¯Ù‡ Ø§Ù†Ø§ Ù„Ø³Ù‡ Ù…Ø±Ø®Ù…ØªØ´ "
        },
        {
          id: 6,
          question: "Ø§ÙŠÙ‡ Ø¨Ù‚Ø§ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙŠ ÙƒØ§Ù† ÙÙŠ Ø§Ù„ØµÙˆØ±Ù‡ Ù†ÙØ³Ù‡Ø§",
          answers: ["775", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù…ÙÙŠØ´ Ù‡Ù†ØªØ§Øª Ø§Ù‚Ø¹Ø¯ÙŠ Ø§Ø­Ø³Ø¨ÙŠÙ‡Ø§ Ø¨Ø§Ù„Ø¹ÙƒØ³ Ø¨Ù‚Ø§ Ù„Ø­Ø¯ Ù…Ø§ ØªÙˆØµÙ„ÙŠ"
        },
        {
          id: 7,
          question: "Ø¨ØªØ­Ø¨ÙŠÙ†ÙŠ ØŸ",
          answers: ["Ø§Ù‡ ", "Ø§ÙƒÙŠØ¯", "Ø¨Ø­Ø¨Ùƒ", "Ø§ÙŠÙˆÙ‡", "Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ"],
          wrongMessage: "Ø§Ù†Ø§ Ø­Ø·ØªÙ„Ùƒ ÙƒÙ„ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ Ø¯ÙŠ Ù„Ùˆ Ø¸Ù‡Ø±Øª ÙŠØ¹Ù†ÙŠ Ø§Ù†Øª ÙƒØªØ¨ØªÙŠ Ø§ÙŠÙ‡ ØŸØŸØŸØŸØŸ"
        },
        {
          id: 8,
          question: "Everything",
          answers: ["Ø§Ù†Ø§ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø§Ù„Ùƒ Ø§ÙŠÙ‡ ÙŠØ§ Ø¹Ø¨Ø¯Ùˆ", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ø§ÙƒØªØ¨ÙŠ Ø§Ù†Øª Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù‚Ø§ Ø§Ù„ÙŠ ÙƒÙ†Øª Ø³Ø§Ù„ØªÙŠÙ‡ Ø³Ø¹ØªÙ‡Ø§"
        },
        {
          id: 9,
          question: "Ù†Ø±Ø¬Ø¹ ØªØ§Ù†ÙŠ Ø¨Ù‚Ø§ Ø§ÙŠÙ‡ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ØªÙ„Øª Ø§Ø±Ù‚Ø§Ù… Ø§Ù„ÙŠ ÙƒØ§Ù†Øª ÙÙŠ Ø§Ù„ØµÙˆØ± Ø§Ù„ØªØ§Ù†ÙŠÙ‡ Ø§Ù„ÙŠ ÙƒÙ†Øª Ù…ØµÙˆØ±Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹Ù‡ Ø¨Ù„ÙŠÙ„",
          answers: ["24", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ø¶Ø­ÙƒØª Ø¹Ù„ÙŠÙƒÙŠ Ø¹Ø§ÙŠØ² Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø§Ø±Ù‚Ø§Ù… Ø§Ù„ÙŠ ÙƒØ§Ù†Øª ÙÙŠ Ø§ÙˆÙ„ ØµÙˆØ±Ù‡ Ø®Ø§Ù„Øµ "
        },
        {
          id: 10,
          question: "Ø²Ù‡Ù‚ØªÙŠ Ù…Ù† Ø§Ù„Ø§Ø³Ø§Ù„Ù‡ØŸ ",
          answers: ["Ù„Ø§", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: " Ù‚ÙˆÙ„ÙŠ Ù„Ø§ Ø¹Ø´Ø§Ù† ØªØ¹Ø¯ÙŠ"
        },
        {
          id: 11,
          question: "Ù„Ø§ Ø¨Ø¬Ø¯ Ø­Ø§Ø³Ø³Ù†ÙŠ Ø±Ø®Ù…Øª Ø¹Ù„ÙŠÙƒÙŠ ØŸ",
          answers: ["Ù„Ø§ Ø§Ù†Øª Ø¬Ù…ÙŠÙ„", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù‚ÙˆÙ„ÙŠ Ù„Ø§ Ø§Ù†Øª Ø¬Ù…ÙŠÙ„"
        },
        {
          id: 12,
          question: "Ø®Ù„Ø§Øµ Ø®Ù„Ø§Øµ Ø¯Ù‡ Ø§Ø®Ø± Ø³Ø¤Ø§Ù„ Ø§Ø³Ù",
          answers: ["ÙÙ„", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ù‚ÙˆÙ„ØªÙ„Ùƒ Ù‚ÙˆÙ„ÙŠ ÙÙ„ Ù„Ùˆ Ù…Ø´ Ù„Ø§Ù‚ÙŠÙ‡ Ø§Ø¬Ø§Ø¨Ù‡"
        },
        {
          id: 13,
          question: "Ø¬Ø§Ø³Øª Ù‚ÙˆÙ„ÙŠ Ø¨Ø­Ø¨Ùƒ ÙˆØ¨Ø³ ÙƒØ¯Ù‡",
          answers: ["Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ø¯ÙŠ Ù…ÙŠØªØºÙ„Ø·Ø´ ÙÙŠÙ‡Ø§ Ø¯ÙŠ"
        },
        {
          id: 14,
          question: "Ù…Ø¹Ù„Ø´ Ø®Ù„ÙŠÙ‡Ø§ Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ ",
          answers: ["Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "ÙƒØ¯Ù‡ Ù…Ø´ Ø¨ØªØ¹Ø±ÙÙŠ ØªÙƒØªØ¨ÙŠ Ø¹Ø±Ø¨ÙŠ "
        },
        {
          id: 15,
          question: "Ø®Ù„Ø§Øµ Ø®Ù„Ø§Øµ ğŸ˜‚ Ù‚ÙˆÙ„ÙŠ ÙÙ„ ÙˆÙ‡ØªØ¹Ø¯ÙŠ Ø¹Ù„Ø·ÙˆÙ„ Ø§Ù„Ù…Ø±Ù‡ Ø¯ÙŠ",
          answers: ["ÙÙ„", "Ø¨Ø­Ø¨Ùƒ"],
          wrongMessage: "Ø§Ù†Ø§ Ø¨Ø­Ø¨Ùƒ"
        }
      ];

      // --- BACKGROUND MUSIC LOGIC ---
      useEffect(() => {
        if (bgMusicRef.current) {
          bgMusicRef.current.volume = 0.4;
          // Attempt autoplay
          const playPromise = bgMusicRef.current.play();
          if (playPromise !== undefined) {
            playPromise.catch(error => {
              console.log("Auto-play was prevented. Interactive play required.", error);
            });
          }
        }
      }, []);

      const toggleBgMusic = (e) => {
        e.stopPropagation(); // Prevent global click effects
        if (bgMusicRef.current) {
          if (isBgMusicMuted) {
            bgMusicRef.current.muted = false;
          } else {
            bgMusicRef.current.muted = true;
          }
          setIsBgMusicMuted(!isBgMusicMuted);
        }
      };

      // --- FEATURE IMPLEMENTATIONS ---

      const handleGlobalClick = (e) => {
        // Fallback: Try to play music on any interaction if it's paused (autoplay blocked)
        if (bgMusicRef.current && bgMusicRef.current.paused) {
          bgMusicRef.current.play().catch(() => { });
        }

        if (e.target.closest('button') || e.target.closest('input')) return;

        const newEffect = {
          id: Date.now(),
          x: e.clientX,
          y: e.clientY,
          icon: Math.random() > 0.5 ? <Heart size={20} fill="#F472B6" className="text-pink-400" /> : <Stars size={20} fill="#FBBF24" className="text-yellow-400" />
        };

        setClickEffects(prev => [...prev, newEffect]);

        setTimeout(() => {
          setClickEffects(prev => prev.filter(effect => effect.id !== newEffect.id));
        }, 1000);
      };

      // --- SMART COUNTDOWN LOGIC ---
      useEffect(() => {
        const calculateTimeLeft = () => {
          const difference = +new Date(targetDate) - +new Date();

          // If date passed (or testing mode is on)
          if (difference <= 0 || isTestingMode) {
            return null; // Signal that time is up
          }

          return {
            days: Math.floor(difference / (1000 * 60 * 60 * 24)),
            hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
            minutes: Math.floor((difference / 1000 / 60) % 60),
            seconds: Math.floor((difference / 1000) % 60)
          };
        };

        const initialTime = calculateTimeLeft();

        if (initialTime === null) {
          // Time is already up! Start the "Fast Countdown" Effect
          let fakeSeconds = 10; // Start from 10 fake seconds
          let fakeMillis = 99;

          const fastTimer = setInterval(() => {
            fakeMillis -= 4; // Speed of countdown
            if (fakeMillis < 0) {
              fakeMillis = 99;
              fakeSeconds -= 1;
            }

            if (fakeSeconds < 0) {
              // Reached Zero!
              clearInterval(fastTimer);
              setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });
              setShowFireworks(true); // Trigger Fireworks
            } else {
              // Show fake rapid countdown
              setTimeLeft({
                days: 0,
                hours: 0,
                minutes: 0,
                seconds: fakeSeconds,
                millis: fakeMillis // visual flair
              });
            }
          }, 20); // Very fast updates

          return () => clearInterval(fastTimer);
        } else {
          // Normal Countdown
          setTimeLeft(initialTime);
          const timer = setInterval(() => {
            const t = calculateTimeLeft();
            if (t) {
              setTimeLeft(t);
            } else {
              clearInterval(timer);
              setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });
              setShowFireworks(true);
            }
          }, 1000);
          return () => clearInterval(timer);
        }
      }, []);

      useEffect(() => {
        if (isOpened) {
          let titleIndex = 0;
          let msgIndex = 0;

          const typeTitle = setInterval(() => {
            if (titleIndex <= fullTitle.length) {
              setTypedTitle(fullTitle.slice(0, titleIndex));
              titleIndex++;
            } else {
              clearInterval(typeTitle);
              const typeMsg = setInterval(() => {
                if (msgIndex <= fullMessage.length) {
                  setTypedMessage(fullMessage.slice(0, msgIndex));
                  msgIndex++;
                } else {
                  clearInterval(typeMsg);
                }
              }, 50);
            }
          }, 100);

          return () => {
            clearInterval(typeTitle);
          };
        }
      }, [isOpened]);

      const backgroundParticles = useMemo(() => {
        return Array.from({ length: 20 }).map((_, i) => ({
          id: i,
          width: Math.random() * 15 + 5,
          height: Math.random() * 15 + 5,
          top: Math.random() * 100,
          left: Math.random() * 100,
          duration: Math.random() * 5 + 3,
          delay: Math.random() * 5
        }));
      }, []);

      const handleAnswerSubmit = (e) => {
        e.preventDefault();

        // Check for Secret Word on Question 2 (Index 1)
        if (currentLevel === 1 && answer.trim() === secretWord) {
          setShowSecretPage(true);
          setAnswer('');
          setError('');
          return; // Stop normal flow
        }

        const currentRiddle = riddles[currentLevel];
        if (currentRiddle.answers.some(a => a === answer.trim())) {
          setAnswer('');
          setError('');
          if (currentLevel < riddles.length - 1) {
            setCurrentLevel(prev => prev + 1);
          } else {
            setGameCompleted(true);
          }
        } else {
          setError(currentRiddle.wrongMessage || "Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©ØŒ Ø­Ø§ÙˆÙ„ÙŠ ØªØ§Ù†ÙŠ!");
          setTimeout(() => setError(''), 2000);
        }
      };

      const toggleAudio = () => {
        if (audioRef.current) {
          if (isPlaying) {
            audioRef.current.pause();
          } else {
            audioRef.current.play();
          }
          setIsPlaying(!isPlaying);
        }
      };

      useEffect(() => {
        if (!showGame && isPlaying && audioRef.current) {
          audioRef.current.pause();
          setIsPlaying(false);
        }
      }, [showGame]);

      useEffect(() => {
        if (isOpened) {
          const newBalloons = Array.from({ length: 20 }).map((_, i) => ({
            id: i,
            left: Math.random() * 100,
            delay: Math.random() * 5,
            speed: 8 + Math.random() * 10,
            color: ['bg-pink-400', 'bg-rose-300', 'bg-pink-200', 'bg-white'][Math.floor(Math.random() * 4)]
          }));
          setBalloons(newBalloons);

          const newConfetti = Array.from({ length: 60 }).map((_, i) => ({
            id: i,
            left: Math.random() * 100,
            delay: Math.random() * 2,
            duration: 3 + Math.random() * 2, // Fix: Store duration in state
            color: ['#F472B6', '#FB7185', '#FBCFE8', '#FFF'][Math.floor(Math.random() * 4)]
          }));
          setConfetti(newConfetti);
        }
      }, [isOpened]);

      return (
        <div
          className="h-screen w-full bg-gradient-to-br from-pink-100 via-rose-200 to-pink-300 overflow-hidden relative font-sans cursor-pointer"
          dir="rtl"
          onClick={handleGlobalClick}
        >
          {/* --- BACKGROUND MUSIC ELEMENT --- */}
          <audio ref={bgMusicRef} src={bgMusicUrl} loop />

          {/* --- MUTE BUTTON (Top Left) --- */}
          <button
            onClick={toggleBgMusic}
            className="absolute top-4 left-4 z-[100] p-3 rounded-full bg-white/20 hover:bg-white/40 backdrop-blur-md border border-white/50 text-pink-600 shadow-lg transition-all transform hover:scale-110"
            title={isBgMusicMuted ? "Ø´ØºÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰" : "Ø§ÙƒØªÙ… Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰"}
          >
            {isBgMusicMuted ? <VolumeX size={24} /> : <Volume2 size={24} />}
          </button>


          {/* --- CLICK EFFECTS RENDERING --- */}
          {clickEffects.map(effect => (
            <div key={effect.id} className="absolute pointer-events-none z-50" style={{ left: effect.x, top: effect.y, animation: 'popUpFade 1s ease-out forwards' }}>
              {effect.icon}
            </div>
          ))}

          {/* --- FIREWORKS OVERLAY --- */}
          {showFireworks && (
            <div className="absolute inset-0 pointer-events-none z-40 overflow-hidden">
              {/* Generate multiple bursts */}
              {[...Array(5)].map((_, i) => (
                <div key={i} className="absolute" style={{
                  left: `${20 + Math.random() * 60}%`,
                  top: `${20 + Math.random() * 40}%`,
                  animation: `explode 1s ease-out infinite ${Math.random()}s`
                }}>
                  <div className="relative">
                    {[...Array(8)].map((_, j) => (
                      <div key={j} className="absolute w-2 h-16 origin-bottom rounded-full"
                        style={{
                          backgroundColor: ['#F472B6', '#FBBF24', '#34D399', '#60A5FA'][Math.floor(Math.random() * 4)],
                          transform: `rotate(${j * 45}deg) translateY(-20px)`,
                          opacity: 0.8
                        }}></div>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          )}

          {/* Background Floating Particles (Fixed Layer) */}
          <div className="absolute inset-0 pointer-events-none z-0">
            {backgroundParticles.map((p) => (
              <div key={p.id} className="absolute rounded-full bg-white opacity-30"
                style={{
                  width: p.width + 'px',
                  height: p.height + 'px',
                  top: p.top + '%',
                  left: p.left + '%',
                  animation: `float ${p.duration}s infinite ease-in-out ${p.delay}s`
                }}
              />
            ))}
          </div>

          {/* --- SLIDING CONTAINER (The core of the scroll effect) --- */}
          <div
            className={`w-full h-[200vh] transition-transform duration-[1500ms] ease-in-out will-change-transform ${isOpened ? '-translate-y-[100vh]' : 'translate-y-0'}`}
          >

            {/* === SECTION 1: INTRO (With Countdown) === */}
            <div className="h-[100vh] w-full flex items-center justify-center p-4 relative">
              <div className="glass-card p-8 md:p-10 rounded-3xl text-center max-w-md w-full transform hover:scale-105 transition-transform duration-500">
                <div className="mb-6 flex justify-center">
                  <div className={`p-4 bg-pink-100 rounded-full text-pink-500 shadow-xl ring-4 ring-pink-50 ${showFireworks ? 'animate-bounce' : 'animate-wiggle'}`}>
                    {showFireworks ? <Sparkles size={48} /> : <Gift size={48} />}
                  </div>
                </div>

                <h1 className="text-3xl md:text-5xl font-extrabold text-pink-600 mb-4 tracking-wide">
                  {showFireworks ? "Ù…Ù† Ø¹Ø¨Ø¯Ùˆ Ù„ Ù†Ø¯Ù‰" : "Ø§Ù„Ù…ÙØ¬Ø£Ù‡ Ø¨ØªØ§Ø¹ØªÙŠ"}
                </h1>

                {/* COUNTDOWN TIMER */}
                <div className="mb-8">
                  <div className="flex items-center justify-center gap-2 text-pink-500 mb-3 font-bold bg-white/40 py-1 px-4 rounded-full w-fit mx-auto text-sm">
                    <Calendar size={16} /> <span>3 / 1 / 2026</span>
                  </div>

                  <div className="flex justify-center gap-3 text-center" dir="ltr">
                    {[
                      { label: 'Days', value: timeLeft.days },
                      { label: 'Hours', value: timeLeft.hours },
                      { label: 'Min', value: timeLeft.minutes },
                      { label: 'Sec', value: timeLeft.seconds }
                    ].map((item, idx) => (
                      <div key={idx} className={`bg-white/50 p-2 rounded-lg min-w-[60px] shadow-sm border border-pink-100 transition-all ${showFireworks ? 'scale-110 bg-yellow-100 border-yellow-300' : ''}`}>
                        <div className={`text-xl font-bold ${item.value === 0 && showFireworks ? 'text-green-600' : 'text-pink-600'}`}>
                          {item.value < 10 ? `0${item.value}` : item.value}
                        </div>
                        <div className="text-[10px] text-pink-400 font-bold uppercase">{item.label}</div>
                      </div>
                    ))}
                  </div>
                </div>

                <p className="text-pink-800 mb-8 text-lg font-medium">
                  {showFireworks ? "Ø§ÙØªØ­ÙŠ ÙŠÙ„Ø§ ğŸ‰ ğŸ‘‡" : "Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ Ø¯ÙŠ Ø¹Ø´Ø§Ù†Ùƒ ...."}
                </p>

                <button
                  onClick={(e) => {
                    e.stopPropagation();
                    setIsOpened(true);
                    if (bgMusicRef.current && bgMusicRef.current.paused) {
                      bgMusicRef.current.play().catch(() => { });
                    }
                  }}
                  className={`group relative px-8 py-4 rounded-full bg-gradient-to-r text-white font-bold text-xl shadow-lg transition-all active:scale-95 animate-[pulse-glow_2s_infinite]
                        ${showFireworks ? 'from-yellow-400 to-orange-500 hover:shadow-orange-500/50' : 'from-pink-500 to-rose-500 hover:shadow-pink-500/50'}`}
                >
                  <span className="flex items-center gap-3">
                    Ø¯ÙˆØ³ÙŠ Ù‡Ù†Ø§ ÙŠØ§ Ø¹Ø³Ù„
                    <Sparkles size={24} className="group-hover:animate-spin" />
                  </span>
                </button>
              </div>
            </div>

            {/* === SECTION 2: CELEBRATION === */}
            <div className="h-[100vh] w-full flex items-center justify-center p-4 relative">
              <div className="glass-card p-4 md:p-8 rounded-3xl text-center max-w-2xl w-full relative z-10 flex flex-col items-center justify-center max-h-[90vh] overflow-y-auto no-scrollbar">

                <div className="absolute -top-6 -left-6 text-yellow-400 animate-[spin_10s_linear_infinite]"><Stars size={50} fill="currentColor" /></div>
                <div className="absolute -bottom-6 -right-6 text-pink-400 animate-bounce"><Heart size={50} fill="currentColor" /></div>

                {/* Cake */}
                <div className="flex justify-center mb-2 mt-2 transform hover:scale-105 transition-transform duration-500 scale-75 md:scale-90">
                  <div className="relative w-48 h-40">
                    <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-56 h-4 bg-white/50 rounded-full shadow-lg"></div>
                    <div className="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-48 h-20 bg-rose-300 rounded-lg shadow-inner flex items-end justify-center overflow-hidden border-2 border-rose-400/30">
                      <div className="w-full h-full opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent"></div>
                    </div>
                    <div className="absolute bottom-16 left-1/2 transform -translate-x-1/2 w-52 h-6 bg-pink-400 rounded-full z-10 shadow-sm"></div>
                    <div className="absolute bottom-16 left-1/2 transform -translate-x-1/2 w-36 h-16 bg-pink-200 rounded-lg shadow-inner border-2 border-pink-300/30 z-10 flex justify-center">
                      <div className="absolute top-1/2 left-4 w-3 h-3 bg-red-400 rounded-full opacity-60"></div>
                      <div className="absolute top-1/3 right-4 w-3 h-3 bg-red-400 rounded-full opacity-60"></div>
                    </div>
                    <div className="absolute bottom-[7.5rem] left-1/2 transform -translate-x-1/2 w-40 h-6 bg-white rounded-full z-20 shadow-sm"></div>
                    <div className="absolute bottom-[8rem] left-1/2 transform -translate-x-1/2 flex gap-3 z-30">
                      {[0, 1, 2].map(i => (
                        <div key={i} className={`relative w-3 ${i === 1 ? 'h-12 -mt-2' : 'h-10'} bg-gradient-to-t from-yellow-100 to-yellow-200 rounded-sm shadow-sm`}>
                          <div className={`absolute -top-4 left-1/2 transform -translate-x-1/2 w-4 h-6 bg-orange-400 rounded-[50%] animate-flame shadow-[0_0_15px_rgba(251,146,60,0.8)] border-2 border-yellow-200`} style={{ animationDelay: `${i * 75}ms` }}></div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>

                {/* TYPEWRITER TITLE */}
                <h1 className="text-2xl md:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-pink-600 to-rose-500 mb-2 pb-2 drop-shadow-sm min-h-[3rem] leading-relaxed">
                  {typedTitle}<span className={`${typedTitle.length < fullTitle.length ? 'typing-cursor' : 'hidden'}`}></span>
                </h1>

                <div className="flex items-center justify-center gap-2 text-pink-700/80 mb-4 font-bold text-sm md:text-base">
                  <Calendar size={18} />
                  <span>3 / 1 / 2026</span>
                </div>

                {/* IMAGE GALLERY */}


                {/* TYPEWRITER MESSAGE */}
                <p className="text-sm md:text-lg text-gray-700 font-medium leading-relaxed mb-6 min-h-[1.5em]">
                  {typedMessage}<span className={`${typedTitle.length >= fullTitle.length && typedMessage.length < fullMessage.length ? 'typing-cursor' : 'hidden'}`}></span>
                </p>

                <div>

                </div>
              </div>
            </div>

          </div>

          {/* --- OVERLAYS --- */}
          {isOpened && balloons.map((b) => (
            <div key={b.id} className={`absolute bottom-[-10vh] w-8 h-10 rounded-full opacity-80 z-20 ${b.color}`}
              style={{ left: `${b.left}%`, animation: `rise ${b.speed}s linear ${b.delay}s forwards`, boxShadow: 'inset -5px -5px 10px rgba(0,0,0,0.1)' }}>
              <div className="absolute bottom-[-10px] left-1/2 w-[1px] h-[10px] bg-gray-400"></div>
            </div>
          ))}

          {isOpened && confetti.map((c) => (
            <div key={c.id} className="absolute w-3 h-3 rounded-sm z-20" style={{ backgroundColor: c.color, left: `${c.left}%`, animation: `fall ${c.duration}s linear ${c.delay}s infinite` }} />
          ))}

          {/* --- LIGHTBOX MODAL --- */}
          {selectedImage && (
            <div className="fixed inset-0 z-[60] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4 animate-[lightboxEnter_0.6s_cubic-bezier(0.22,1,0.36,1)]" onClick={() => setSelectedImage(null)}>
              <button className="absolute top-6 right-6 text-white hover:text-pink-400 transition-colors z-50" onClick={() => setSelectedImage(null)}><X size={32} /></button>
              <div className="relative w-auto h-auto max-w-[95vw] max-h-[95vh] rounded-2xl overflow-hidden shadow-2xl p-1 flex justify-center items-center" onClick={(e) => e.stopPropagation()}>
                <img src={selectedImage} alt="Memory Full" className="max-w-full max-h-[90vh] w-auto h-auto object-contain rounded-xl shadow-lg" />
              </div>
            </div>
          )}

          {/* --- GAME MODAL --- */}
          {showGame && (
            <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-pink-900/40 backdrop-blur-sm animate-[popIn_0.3s_ease-out]">
              <div className="glass-card bg-white/90 p-6 md:p-8 rounded-3xl w-full max-w-lg shadow-2xl relative" onClick={(e) => e.stopPropagation()}>
                <button onClick={() => { setShowGame(false); setShowSecretPage(false); }} className="absolute top-4 right-4 text-pink-400 hover:text-pink-600 transition-colors"><X size={24} /></button>
                {showSecretPage ? (
                  <div className="text-center">
                    <div className="flex justify-center mb-6"><div className="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center text-purple-500 shadow-inner ring-4 ring-purple-50 animate-[popIn_0.5s_backwards]"><Stars size={40} /></div></div>
                    <h2 className="text-3xl font-extrabold text-purple-600 mb-4">Ø´Ø·ÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆØ±Ù‡</h2>
                    <div className="bg-white/40 p-6 rounded-2xl border-2 border-purple-100 relative overflow-hidden text-right">
                      <div className="absolute top-0 right-0 p-2 opacity-10"><Sparkles size={100} /></div>
                      <p className="text-lg text-gray-800 leading-loose font-medium relative z-10 mb-6">
                        "Ù‡Ù†Ø§ Ø¨Ù‚Ø§ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ù‡ Ø­Ø¨ÙŠØª Ø§Ù„Ø¹Ø¨ Ù…Ø¹Ø§ÙƒÙŠ Ø´ÙˆÙŠÙ‡ ÙˆÙØ±ÙØ´Ùƒ ÙˆÙŠÙƒÙˆÙ† Ù‡Ø°Ø§ ÙŠÙˆÙ… Ù…Ø®ØªÙ„Ù Ù…Ø´ Ø²ÙŠ Ø§ÙŠ Ù…Ø±Ù‡ Ù‚ÙˆÙ„ØªÙƒ ÙÙŠÙ‡Ø§ ÙƒÙ„ Ø³Ù†Ù‡ ÙˆØ§Ù†Øª Ø·ÙŠØ¨Ù‡ Ù…Ù† ØºÙŠØ± Ù…Ø§ Ø§Ù‚ÙˆÙ„Ùƒ ..........Ø§Ù†Ø§ Ø¨Ø­Ø¨Ùƒ"
                      </p>
                      <div className="relative z-10 bg-gradient-to-r from-pink-50 to-white p-4 rounded-xl border border-pink-200 shadow-sm flex items-center gap-4">
                        <button onClick={toggleAudio} className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center text-white shadow-md hover:scale-105 transition-transform">{isPlaying ? <Pause size={20} fill="currentColor" /> : <Play size={20} fill="currentColor" className="ml-1" />}</button>
                        <div className="flex-1 flex flex-col justify-center gap-1">
                          <div className="flex items-center gap-2 text-xs font-bold text-pink-400"><Mic size={12} /><span>ØµÙˆØªÙŠ Ø¯Ù‡ Ø¨Ø±Ø¯Ù‡</span></div>
                          <div className="flex items-center gap-1 h-6 w-full">{[...Array(20)].map((_, i) => (<div key={i} className={`w-1 bg-pink-300 rounded-full transition-all duration-300 ${isPlaying ? 'animate-wave' : 'h-1'}`} style={{ height: isPlaying ? undefined : '4px', animationDelay: `${i * 0.05}s` }}></div>))}</div>
                        </div>
                        <audio ref={audioRef} src={recordUrl2} onEnded={() => setIsPlaying(false)} className="hidden" />
                      </div>                    </div>
                    <button onClick={() => { setShowGame(false); setShowSecretPage(false); setIsOpened(true); }} className="mt-6 text-purple-500 hover:text-purple-700 font-bold underline">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø§Ø­ØªÙØ§Ù„</button>
                  </div>
                ) : !gameCompleted ? (
                  <div className="text-center">
                    <div className="flex justify-center mb-4"><div className="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center text-pink-500 shadow-inner"><Lock size={32} /></div></div>
                    <h2 className="text-2xl font-bold text-gray-800 mb-2 leading-relaxed">{riddles[currentLevel].question}</h2>
                    {error && <p className="text-red-500 text-sm mb-4 font-bold animate-shake">{error}</p>}
                    <form onSubmit={handleAnswerSubmit} className="space-y-4">
                      <input type="text" value={answer} onChange={(e) => setAnswer(e.target.value)} placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§..."
                        className={`w-full p-4 rounded-xl text-center text-lg outline-none border-2 transition-all bg-white/50 ${error ? 'border-red-400 text-red-500 animate-shake bg-red-50' : 'border-pink-200 focus:border-pink-400 text-gray-700'}`} />
                      <button type="submit" className="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white p-3 rounded-xl font-bold text-lg shadow-md hover:shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2">ØªØ£ÙƒÙŠØ¯  <Send size={18} /></button>
                    </form>
                  </div>
                ) : (
                  <div className="text-center">
                    <div className="flex justify-center mb-6"><div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center text-green-500 shadow-inner ring-4 ring-green-50 animate-[popIn_0.5s_backwards]"><Unlock size={40} /></div></div>
                    <h2 className="text-3xl font-extrabold text-pink-600 mb-4">Ù…Ø¨Ø±ÙˆÙƒ! ÙØªØ­ØªÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h2>
                    <div className="bg-white/40 p-6 rounded-2xl border-2 border-pink-100 relative overflow-hidden text-right">
                      <div className="absolute top-0 right-0 p-2 opacity-10"><Heart size={100} /></div>
                      <p className="text-lg text-gray-800 leading-loose font-medium relative z-10 mb-6">" Ø­Ø¨ÙŠØ¨ÙŠ Ø´Ø·ÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆÙˆØ±............Ø§Ù„Ø¨Ø³ÙŠ Ø¨Ù‚Ø§ Ø³Ù…Ø¹Ø§Øª Ø¹Ø´Ø§Ù† ØªØ³Ù…Ø¹ÙŠ Ø±Ø³Ø§Ù„Ù‡ ØªØ¹ØªÙŠ Ù…ØªÙ†Ø³ÙŠØ´ ØªØ¹Ù…Ù„ÙŠ Ù…ÙŠÙˆØª Ù„ØµÙˆØª Ø§Ù„Ø§ØºÙ†ÙŠÙ‡ Ù…Ù† ÙÙˆÙ‚ Ø¹Ù„ÙŠ Ø§Ù„Ø´Ù…Ø§Ù„"</p>
                      <div className="relative z-10 bg-gradient-to-r from-pink-50 to-white p-4 rounded-xl border border-pink-200 shadow-sm flex items-center gap-4">
                        <button onClick={toggleAudio} className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center text-white shadow-md hover:scale-105 transition-transform">{isPlaying ? <Pause size={20} fill="currentColor" /> : <Play size={20} fill="currentColor" className="ml-1" />}</button>
                        <div className="flex-1 flex flex-col justify-center gap-1">
                          <div className="flex items-center gap-2 text-xs font-bold text-pink-400"><Mic size={12} /><span>ØµÙˆØªÙŠ Ø§Ù†Ø§ Ø¯Ù‡</span></div>
                          <div className="flex items-center gap-1 h-6 w-full">{[...Array(20)].map((_, i) => (<div key={i} className={`w-1 bg-pink-300 rounded-full transition-all duration-300 ${isPlaying ? 'animate-wave' : 'h-1'}`} style={{ height: isPlaying ? undefined : '4px', animationDelay: `${i * 0.05}s` }}></div>))}</div>
                        </div>
                        <audio ref={audioRef} src={recordUrl} onEnded={() => setIsPlaying(false)} className="hidden" />
                      </div>
                    </div>
                    <button onClick={() => { setShowGame(false); setIsOpened(true); }} className="mt-6 text-pink-500 hover:text-pink-700 font-bold underline">Ø§Ø±Ø¬Ø¹ÙŠ ØªØ§Ù†ÙŠ</button>
                  </div>
                )}
              </div>
            </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<BirthdayApp />);
  </script>
</body>

</html>